<div class="message-input d-flex align-items-center">
  <!-- Replied Message Preview -->
  <div *ngIf="repliedMessage" class="reply-preview">
    <div class="replied-content text-white">
      Replying to: "{{ repliedMessage.content }}"
    </div>
    <button (click)="cancelReply()" class="btn btn-sm">
      Cancel
    </button>
  </div>

  <!-- Message Input Field -->
  <textarea
    [(ngModel)]="messageText"
    [placeholder]="editedMessage ? 'Edit your message...' : 'Type a message...'"
    (keydown.enter)="sendMessage()"
    rows="3"
    class="form-control">
  </textarea>

  <!-- Cancel Button (Only in Edit Mode) -->
  <button *ngIf="editedMessage" (click)="cancelEdit()" class="btn btn-secondary">
    Cancel
  </button>

  <!-- Send or Update Button -->
  <button
    class="btn btn-primary"
    (click)="sendMessage()"
    [disabled]="!messageText.trim() || (!selectedContact?.chatId && !selectedGroup?._id)">
    {{ editedMessage ? 'Update' : 'Send' }}
  </button>
</div>
